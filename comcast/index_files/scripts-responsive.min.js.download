var login=(function(d){var a;function i(j){this.config=j;d("button[type=submit]").click(function(){a=d(this)});d("#forgotPwdLink").on("click mousedown",function(){b(j.usernameId)})}function g(j){return j.indexOf("?")>=0}function c(j,k){return j.indexOf(k+"=")>=0}function h(j,k){if(g(j)){return j+"&"+k}else{return j+"?"+k}}function e(j,l,k){if(c(j,l)){return j.replace(new RegExp(l+"=[^&]*"),l+"="+k)}else{if(l&&k){return h(j,l+"="+k)}}return j}function b(l){var m=d("#"+l).val(),j=d("#forgotPwdLink"),k=j.attr("href");if(k){j.attr("href",e(k,"ruid",m))}}function f(){return a&&a[0].hasAttribute("formnovalidate")}return{init:i,shouldSkipValidation:f}}(jQuery));(function(d){var w,t={},j="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",r,e,a=login.init;function m(x){v();k();d(window).bind("orientationchange",q);d(window).bind("resize",c);d(window).one("touchstart",function(){r=true;d("html").addClass("touch").css("background-attachment","initial")});d("input").blur(function(){if(r){e=true}setTimeout(function(){e=false},0)});a.call(login,x);p(x)}function k(){c();var x=d("#background video");if(x.length){x.removeAttr("hidden");if(window.matchMedia&&window.matchMedia("(prefers-reduced-motion)").matches){x.removeAttr("autoplay");x[0].pause()}}}function q(){var y=d("#background"),z=d(".has-footer > footer"),x=d(document).height();if(z.length){x=z.position().top}if(y.length){x-=y.position().top}y.css("height",x)}function c(){var y=b();if(y!=w){w=y;n(y)}var x=d(".overlay:visible");if(x.length){i(x)}q()}function n(){var x=d(".overlay:visible");if(x.length){i(x)}}function v(){d("button[data-id-ref]").click(function(){var z=d(this),A=z.data("idRef")?d("#"+z.data("idRef")):z.next("[role=dialog]");o(A,z);return false});d("[role=dialog] .close, [role=dialog] .cancel").click(function(){u(d(this).closest("[role=dialog]"))});var y=null;var x=false;d(document).on({keydown:function(z){if(z.keyCode==27){u(d(".overlay:visible"))}},focusout:function(z){y=z.target},focusin:function(A){var B=d(".overlay:visible");if(B.length&&d(A.target).closest(".overlay").length==0){var z=B.find(j).first();if(z.is(y)){f(B)}else{l(B)}}}})}function h(x){x.attr("tab-index",0);x.focus()}function l(x){var y=x.find(j);y.first().focus()}function f(x){var y=x.find(j);y.last().focus()}function o(y,x){if(!y.data("dialogType")){y.data("dialogType","overlay")}y.data("triggerElem",x);setTimeout(function(){i(y);d("html").css("overflow","hidden");y.attr("aria-hidden",false).css("display","");d("#background, header, main, footer").attr("aria-hidden",true);y.find("> .content").css("max-height","100%");l(y)},e?500:0)}function u(x){if(x.is(":visible")){x.attr("aria-hidden",true).css("display","");d("#background, header, main, footer").attr("aria-hidden",false);x.find("> .content").css("max-height","");d("html").css("overflow","");g(x)}}function g(y){var x=y.data("triggerElem");if(x){if(d(":focus").closest(".overlay").is(y)){x.focus()}}}function i(A){if(A.is(".overlay")){var y=window.innerHeight||d(window).height();A.css({height:y,left:"",top:""});var z=!A.is(":visible");A.show();var x=A.find("> .content");x.css({top:Math.max(0,(y-x.outerHeight())/2),left:(A.outerWidth()-x.outerWidth())/2});if(z){A.hide()}}}function b(){return d("#breakpoints").css("font-family")}function s(y,x){t[x]=y}function p(x){if(x&&x.name){t[x.name](x)}else{for(var y in t){t[y](x)}}}login.init=m;login.getBreakpoint=b;login.registerInitFunction=s;login.showOverlay=o}(jQuery));var shared=function(){function g(){b();f()}function f(){$("button[data-continue-url]").click(function(){window.location.href=$(this).data("continueUrl")})}function c(h){return $("label.float[for="+h.attr("id")+"]")}function e(h){try{return h.is(":-webkit-autofill")}catch(i){}return false}function d(j,h){var i=$(j);return i.val()||e(i)||h=="focus"||(h!="blur"&&j===document.activeElement)}function a(k,h){var j=$(k),i=c($(k));if(d(k,h)){i.removeClass("accessibly-hidden");if(j.attr("placeholder")){j.data("placeholder",j.attr("placeholder")).attr("placeholder","")}}else{i.addClass("accessibly-hidden");if(j.data("placeholder")){j.attr("placeholder",j.data("placeholder"));j.removeData("placeholder")}}}function b(){var h=$("input").filter(function(){return c($(this)).length>0});h.on("focus",function(i){a(this,i.type)}).on("blur input",function(i){a(this,i.type)}).on("animationstart",function(i){a(this);switch(i.originalEvent.animationName){case"onAutoFillStart":c($(this)).addClass("autofill");break;case"onAutoFillCancel":c($(this)).removeClass("autofill");break}}).each(function(){a(this);if(e($(this))){c($(this)).addClass("autofill")}})}return{init:g}}();