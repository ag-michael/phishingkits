function appendPhoneNumber(){var t=$("#phoneNumber").val().replace(/[^0-9]+/g,"");t.match(/^\d+$/)?($("#phoneNumber-areaCode").val(t.substring(0,3)),$("#phoneNumber-prefix").val(t.substring(3,6)),$("#phoneNumber-subscriberNumber").val(t.substring(6,10))):($("#phoneNumber-areaCode").val(""),$("#phoneNumber-prefix").val(""),$("#phoneNumber-subscriberNumber").val(""))}function displayPhoneNumber(t){var e="("+$("#phoneNumber-areaCode").val()+") "+$("#phoneNumber-prefix").val()+"-"+$("#phoneNumber-subscriberNumber").val();14==e.length&&($("#phoneNumber").val(e),(t||void 0===t)&&$("#phoneNumber").trigger(inputEvents))}function appendDateOfBirth(){var t=$("#dateOfBirth").val().replace(/[^0-9]+/g,"");if(t.match(/^\d+$/))for(var e=0;e<t.length;e++)$("#dateOfBirth\\.month").val(t.substring(0,2)),$("#dateOfBirth\\.date").val(t.substring(2,4)),$("#dateOfBirth\\.year").val(t.substring(4,8))}function customDateOfBirthValidation(){var t=new Date,e=parseInt($("#dateOfBirth\\.month").val(),"10")-1,i=parseInt($("#dateOfBirth\\.date").val(),"10"),n=parseInt($("#dateOfBirth\\.year").val(),"10"),o=$("#dateOfBirth\\.year").val().length,a=new Date(n,e,i);return a.getFullYear()==n&&4===o&&a.getMonth()==e&&a.getDate()==i&&t>a}function getInputValue(t){return $('input[name="'+t+'"]')[0].value}function preventPopupDefaultClickHandler(t){"a"==t.target.nodeName.toLowerCase()&&t.target.href||t.preventDefault()}function setupFieldtipPopupActivation(){var t=$(".field-tip");t.click(function(t){preventPopupDefaultClickHandler(t);var e=$(this).children(".tip-popup");e.is(":visible")||(e.css("zIndex",""),"large"==idm.getBreakpoint()?e.show():idm.showOverlay(e))}),t.mouseout(function(){"large"==idm.getBreakpoint()&&$(this).children(".tip-popup:not(.tip-overlay)").hide()}),$(".tip-popup").click(preventPopupDefaultClickHandler)}function setupStatusIconPopupActivation(){$(".status-icon").click(function(t){t.preventDefault();var e=$(this).closest(".form-field").find("aside.error");idm.showOverlay(e)}),$(".form-field aside").click(preventPopupDefaultClickHandler)}function appendQuery(t,e){return hasQuery(t)?t+"&"+e:t+"?"+e}function hasQuery(t){return t.indexOf("?")>=0}window.log=function(){log.history=log.history||[],log.history.push(arguments),this.console&&(arguments.callee=arguments.callee.caller,console.log(Array.prototype.slice.call(arguments)))},function(t){function e(){}for(var i,n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");i=n.pop();)t[i]=t[i]||e}(window.console=window.console||{}),function(t){function e(){d.setAttribute("content",f),h=!0}function i(){d.setAttribute("content",c),h=!1}function n(n){l=n.accelerationIncludingGravity,a=Math.abs(l.x),r=Math.abs(l.y),s=Math.abs(l.z),t.orientation&&180!==t.orientation||!(a>7||(s>6&&r<8||s<8&&r>6)&&a>5)?h||e():h&&i()}if(window.DeviceMotionEvent){var o=t.document;if(o.querySelector){var a,r,s,l,d=o.querySelector("meta[name=viewport]"),u=d&&d.getAttribute("content"),c=u+",maximum-scale=1",f=u+",maximum-scale=10",h=!0;d&&(t.addEventListener("orientationchange",e,!1),t.addEventListener("devicemotion",n,!1))}}}(this);var idm=function(){function t(){$("select").dropkick({mobile:!0}).on("change",function(){$(this).valid()}),$("input[type=radio]").change(function(){$(".radio").css("webkitTransform","scale(1)").css("webkitTransform","")}),$("input[type=checkbox]").change(function(){$(".checkbox").css("webkitTransform","scale(1)").css("webkitTransform","")}),o(),e(),$(document).on("click","button[type=button][name=_eventId]",secondaryButtonHandler),f(),d(),$(window).bind("orientationchange",s),$(window).bind("resize",d),$(window).one("touchstart",function(){I=!0}),$("input").blur(function(){I&&(P=!0),setTimeout(function(){P=!1},0)}),$("form").submit(function(){idm.firstSubmit=!0,idm.submitInProgress=!0}),$(document).on(inputEvents,"input[name]",function(){idm.submitInProgress=!1,a($(this))}),r(),B(),i()}function e(){var t;if(window.validationErrors){if(window.validationErrorsNameMap)for(t in validationErrorsNameMap)if(t in validationErrors){var e=validationErrors[t];delete validationErrors[t],validationErrors[validationErrorsNameMap[t]]=e}for(t in validationErrors)document.getElementsByName(t).length||delete validationErrors[t];$("form").validate().showErrors(validationErrors),$("form input[name]").filter(function(){return $(this).attr("name")in validationErrors}).first().focus()}}function i(){var t=$('<span class="icon unverified"></span>'),e=$('<div class="textfield-wrapper"></div>');$("input[data-status]").each(function(){$(this).wrap(e).after(t).css("padding-right",t.outerWidth(!0))})}function n(t){if(t)return"#"+t.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")}function o(){var t=$("input[type=radio][aria-controls]");t.length&&$("input[name="+t.attr("name")+"]").change(function(){var t=$(this),e=$("input[type=radio][aria-controls][aria-expanded=true]"),i=$(n(t.attr("aria-controls"))),o=$(n(e.attr("aria-controls")));i.is(o)||(o.slideUp(function(){$(this).attr("hidden",!0).find(".invalid").removeClass("invalid"),e.attr("aria-expanded","false")}),i.removeAttr("hidden").hide().slideDown(function(){t.attr("aria-expanded","true")}))})}function a(t){window.validationErrors&&validationErrors[t.attr("name")]&&(delete validationErrors[t.attr("name")],t.valid())}function r(){$.valHooks.email={get:function(t){return $.trim(t.value)}},$("input[type=email]").on("blur",function(){$(this).val($(this).val())})}function s(){$("#background").css("height",window.innerHeight)}function l(){var t=window.innerHeight>$("#background").height();I&&!t||s()}function d(){var t=N();t!=D&&(D=t,u());var e=$(".tooltip:visible, .overlay:visible");e.length&&E(e),l()}function u(){var t=$(".tooltip:visible, .overlay:visible");t.length&&m(t)}function c(t){H&&!H.closed?H.focus():H=window.open(t,"ChatWindow","alwaysRaised=1,location=1,status=1,scrollbars=1,resizable=1,menubar=1")}function f(){$("[role=dialog] .close, [role=dialog] .cancel").click(function(){g($(this).closest("[role=dialog]"))});var t=null,e=!1;$(document).on({keydown:function(t){27===t.keyCode&&g($(".tooltip:visible, .overlay:visible"))},mousedown:function(){e=!0},mouseup:function(){e=!1},click:function(t){var e=$(t.target);if(!e.closest(".info, .overlay, .tooltip").length){var i=$(".tooltip:visible"),n=i.data("triggerElem");n&&n.is(e)||g(i)}},focusout:function(e){t=e.target},focusin:function(i){var n=$(".tooltip:visible, .overlay:visible");if(!e&&n.length&&0==$(i.target).closest(".overlay, .tooltip").length){n.find(T).first().is(t)?p(n):v(n)}}})}function h(t){t.attr("tab-index",0),t.focus()}function v(t){t.find(T).first().focus()}function p(t){t.find(T).last().focus()}function m(t){var e=t.data("dialogType");"auto"==e&&(e="small"==N()?"overlay":"tooltip",t.removeClass("tooltip overlay")),t.addClass(e),E(t),$("html").css("overflow","overlay"==e?"hidden":"")}function g(t){t.is(":visible")&&(t.is(".tooltip")?y(t):w(t)),idm.onDialogClose&&idm.onDialogClose(t)}function b(t,e){e&&e.addClass("active"),t.data("dialogType")||t.data("dialogType","overlay"),t.data("triggerElem",e),setTimeout(function(){m(t),t.removeAttr("hidden"),t.css("display",""),t.find("> .content").css("max-height","100%"),h(t)},P?500:0)}function w(t){t.attr("hidden",!0).css("display",""),t.find("> .content").css("max-height",""),$("html").css("overflow",""),k(t)}function y(t){t.attr("hidden"),k(t)}function k(t){var e=t.data("triggerElem");e&&(e.removeClass("active"),$(":focus").closest(".tooltip, .overlay").is(t)&&e.focus())}function E(t){if(t.is(".tooltip"))x(t);else{var e=window.innerHeight||$(window).height();t.css({height:e,left:"",top:""});var i=!t.is(":visible");t.removeAttr("hidden");var n=t.find("> .content");n.css({top:Math.max(0,(e-n.outerHeight())/2),left:(t.outerWidth()-n.outerWidth())/2}),i&&t.attr("hidden",!0)}}function x(t){var e,i,n,o;(e=t.data("triggerElem"))&&(o=e.offset(),o.left-=$(window).scrollLeft(),o.top-=$(window).scrollTop(),i=o.left+e.outerWidth()/2-t.outerWidth()/2,n=o.top+e.outerHeight()+20+t.outerHeight()>$(window).height()?o.top-20-t.outerHeight():o.top+e.outerHeight()+20,i=Math.max(0,Math.min(i,$(window).width()-t.outerWidth())),n=Math.max(0,Math.min(n,$(window).height()-t.outerHeight())),i+=$(window).scrollLeft(),n+=$(window).scrollTop(),t.css({height:"auto",left:i,top:n}))}function N(){return $("#breakpoints").css("font-family")}function C(t){M.push(t)}function B(){for(var t in M)M[t]()}function A(t){function e(t){var e=$(t).attr("data-dkcacheid");return e?$("#dk"+e+"-combobox"):null}return t=t||{},$(t.formId||"form:eq(0)").validate($.extend({},{ignore:":hidden:not(select[data-dkcacheid])",errorElement:"div",errorClass:"invalid",errorPlacement:function(t,e){var i;if(e.is("input[type=radio]"))i=e.closest("fieldset");else if(e.is("input[type=checkbox]"))i=e.closest(".checkbox-container");else{var n=e.closest(".textfield-wrapper");i=n.length?n:e}t.addClass("screen-reader-text"),t.insertAfter(i),setTimeout(function(){t.removeClass("screen-reader-text")},250)},submitHandler:function(t){for(var e=!0,i=0;i<O.length;i++)!1===O[i](t)&&(e=!1);e&&($(this.submitButton).hasClass("cancel")||void 0!==$(this.submitButton).attr("formnovalidate")||$(t).valid())&&t.submit()},showErrors:function(t,e){if(window.validationErrors)for(var i in validationErrors){var n=$("[name="+i+"]"),o=0==n.not(this.settings.ignore).length;o||i in t||n.is("[formnovalidate]")||(t[i]=validationErrors[i],e.push({message:t[i],element:this.findByName(i)[0]}))}this.defaultShowErrors()},highlight:function(t,i,n){$.validator.defaults.unhighlight.apply(this,arguments),$(t).attr("aria-invalid",!0);var o=e(t);o&&o.attr("aria-invalid",!0)},unhighlight:function(t,i,n){$.validator.defaults.unhighlight.apply(this,arguments),$(t).removeAttr("aria-invalid");var o=e(t);o&&o.removeAttr("aria-invalid"),this.errorsFor(t).remove()}},t))}var H,D,I,P,O=[],M=[],T="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",W=/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return function(){$.validator.methods.email=function(t,e){return this.optional(e)||W.test(t)},$.validator.messages.email=function(){return"<i18n:message code='createUid.email.error.contactEmailBad'/>"}}(),{init:t,updateRemoteValidationError:a,submitHandlers:O,showOverlay:b,hideOverlay:w,openChatWindow:c,getBreakpoint:N,registerPageInitFunction:C,createNewValidator:A,pageInfo:{}}}();$(document).ready(function(){setupFieldtipPopupActivation(),setupStatusIconPopupActivation()}),idm.registerPageInitFunction(function(){function t(t,e){e.removeAttr("hidden").hide().slideDown(400,function(){t.attr("aria-expanded",!0)})}function e(t,e){e.slideUp(400,function(){t.attr("aria-expanded",!1),$(this).attr("hidden",!0)})}function i(i,n){"false"==i.attr("aria-expanded")?t(i,n):e(i,n)}$("button.info").click(function(){var t=$(this);i(t,$("#"+t.attr("aria-controls")))})}),idm.registerPageInitFunction(function(){function t(){var t,e,i,n=$(this),o=n.val();o&&n.valid()&&(t=n.data("mask"),e=o.match(/(\d)/g),i=t.replace(/0/g,function(){return e.shift()||""}),n.val(i))}$("input[data-mask]").blur(t)});