var CIM=CIM||{},digitalData=digitalData||{};CIM.properties=CIM.properties||{},digitalData={page:{pageInfo:{pageName:CIM.properties.pageName||"",language:CIM.properties.language||"en"},category:{pageType:CIM.properties.pageType||"myaccount",primaryCategory:"myaccount",subCategory1:"billing and payment"},attributes:{}},siteInfo:{server:CIM.properties.hostName||"",siteVersion:"responsivedesign",siteType:"",sessionID:CIM.properties.sessionId||"",visitorID:CIM.properties.sessionId||""},users:[{segment:{},profile:[{profileInfo:{}}]}],transaction:{attributes:{billPay:{}}}},digitalData.users[0].segment.marketID=CIM.properties.marketID||"",digitalData.users[0].segment.zipServiceAddress=CIM.properties.zipServiceAddress||"",digitalData.users[0].profile[0].profileInfo.userGUID=CIM.properties.customerGuid||"",digitalData.users[0].profile[0].profileInfo.paymentType="2",digitalData.users[0].profile[0].profileInfo.hasEmail=CIM.properties.hasEmail?"T":"F",CIM.properties.hasOwnProperty("cimDtmId")&&"payment"===CIM.properties.cimDtmId&&(digitalData.transaction.attributes.selfServiceTransactions="billing:payment:singlepay:start",digitalData.transaction.attributes.funnelType="Single pay",digitalData.page.attributes.pageLoadEvent="account authentication, Payment start",CIM.properties.errorMessage&&CIM.properties.errorMessage.toLowerCase().indexOf("payment processing failed")>0&&(digitalData.page.attributes.pageLoadEvent="Payment retry, Payment start")),CIM.properties.hasOwnProperty("cimDtmId")&&"confirmation"===CIM.properties.cimDtmId&&(digitalData.transaction.attributes.selfServiceTransactions="billing:payment:singlepay:submit",digitalData.transaction.attributes.billPay.paymentType=CIM.properties.paymentType||"",digitalData.transaction.attributes.billPay.billPayAmount=CIM.properties.billPayAmount||"",digitalData.page.attributes.pageLoadEvent="Single payment today"),CIM.DTM&&"function"==typeof CIM.DTM.clearErrors&&CIM.DTM.clearErrors(),CIM.properties.errorMessage&&(digitalData.page.attributes.errorMessage=CIM.properties.errorMessage),CIM.properties.pageType&&CIM.properties.pageType.indexOf("error_page")>-1&&(digitalData.page.pageInfo.pageUrl=window.location.href);